---
import { actions } from 'astro:actions';

const result = Astro.getActionResult(actions.logout);
---

<a data-popover-target="popover-bottom" id="popoverButton"
    class="h-[42px] mx-5 flex-none rounded-lg text-xl font-bold outline-none ring-zinc-500 focus-visible:ring dark:ring-zinc-200 dark:focus:outline-none"
    href="javascript:void(0)"
    style="animation: rotate 3s linear infinite;"
    aria-label="Brand"
>
    <svg class="h-full w-auto object-cover rounded-full" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23730" width="55" height="55"><path d="M512 130.901333a381.098667 381.098667 0 0 0 0 762.197334h10.922667a251.733333 251.733333 0 0 0 40.277333-2.389334 17.066667 17.066667 0 0 0 12.970667-23.893333A135.509333 135.509333 0 0 1 563.2 810.666667a138.24 138.24 0 0 1 129.877333-137.898667 17.066667 17.066667 0 0 0 16.042667-17.066667v-72.533333a62.805333 62.805333 0 0 1 122.709333-18.602667 17.066667 17.066667 0 0 0 13.482667 11.776 102.4 102.4 0 0 1 20.138667 5.290667 17.066667 17.066667 0 0 0 14.506666-1.536 17.066667 17.066667 0 0 0 8.192-11.946667 361.472 361.472 0 0 0 4.949334-56.149333A381.44 381.44 0 0 0 512 130.901333z" fill="#EDF4FF" p-id="23731"></path><path d="M873.984 392.533333a17.066667 17.066667 0 0 0-17.066667-11.776H166.229333a17.066667 17.066667 0 0 0-17.066666 11.776 380.757333 380.757333 0 0 0 0 238.933334 17.066667 17.066667 0 0 0 17.066666 11.776h526.336a17.066667 17.066667 0 0 0 17.066667-17.066667v-42.666667a62.805333 62.805333 0 0 1 122.709333-18.602666 17.066667 17.066667 0 0 0 13.482667 11.776 107.861333 107.861333 0 0 1 20.309333 5.290666 17.066667 17.066667 0 0 0 14.506667-1.706666 17.066667 17.066667 0 0 0 8.192-12.117334 379.221333 379.221333 0 0 0 4.266667-56.149333 384 384 0 0 0-19.114667-119.466667z" fill="#F6716F" p-id="23732"></path><path d="M512 512m-161.792 0a161.792 161.792 0 1 0 323.584 0 161.792 161.792 0 1 0-323.584 0Z" fill="#FFC670" p-id="23733"></path><path d="M703.488 807.765333m-68.266667 0a68.266667 68.266667 0 1 0 136.533334 0 68.266667 68.266667 0 1 0-136.533334 0Z" fill="#FFC670" p-id="23734"></path><path d="M512 588.8a187.733333 187.733333 0 0 1-160.938667-91.989333 148.309333 148.309333 0 0 0-0.853333 15.189333 161.792 161.792 0 0 0 324.266667 0 148.309333 148.309333 0 0 0 0-15.189333A187.733333 187.733333 0 0 1 512 588.8z" fill="#FFA742" p-id="23735"></path><path d="M570.197333 502.101333l-78.848-45.397333a11.264 11.264 0 0 0-17.066666 9.728v91.136a11.264 11.264 0 0 0 17.066666 9.728l78.848-45.397333a11.434667 11.434667 0 0 0 0-19.797334z" fill="#EDF4FF" p-id="23736"></path><path d="M558.08 856.064a377.514667 377.514667 0 0 1-46.08 2.901333 347.136 347.136 0 0 1-321.194667-216.064h199.68a178.005333 178.005333 0 0 0 243.029334 0h61.952a17.066667 17.066667 0 0 0 0-34.133333h-34.133334A177.493333 177.493333 0 0 0 690.858667 512a175.274667 175.274667 0 0 0-2.56-28.501333h89.770666a17.066667 17.066667 0 0 0 0-34.133334H679.253333a182.272 182.272 0 0 0-17.066666-34.133333h182.784a341.333333 341.333333 0 0 1 13.994666 96.768 358.4 358.4 0 0 1-4.096 54.101333 17.066667 17.066667 0 0 0 14.165334 19.626667 17.066667 17.066667 0 0 0 19.456-14.336A380.074667 380.074667 0 1 0 563.2 889.856a17.066667 17.066667 0 0 0-4.437333-34.133333zM165.034667 512a341.333333 341.333333 0 0 1 13.994666-96.768H361.813333a182.272 182.272 0 0 0-17.066666 34.133333h-52.053334a17.066667 17.066667 0 0 0 0 34.133334h43.008a175.274667 175.274667 0 0 0-2.56 28.501333 177.493333 177.493333 0 0 0 28.672 96.768H179.029333A341.333333 341.333333 0 0 1 165.034667 512z m202.24 0A144.725333 144.725333 0 1 1 512 656.725333 145.066667 145.066667 0 0 1 367.274667 512zM512 165.034667a347.136 347.136 0 0 1 321.194667 216.064h-199.68a178.005333 178.005333 0 0 0-243.029334 0h-199.68A347.136 347.136 0 0 1 512 165.034667z" fill="#3D3D63" p-id="23737"></path><path d="M230.058667 449.365333H211.626667a17.066667 17.066667 0 1 0 0 34.133334h18.432a17.066667 17.066667 0 1 0 0-34.133334zM578.730667 487.424l-78.848-45.568a28.501333 28.501333 0 0 0-42.666667 24.576v91.136a28.330667 28.330667 0 0 0 42.666667 24.576l78.848-45.568a28.16 28.16 0 0 0 0-49.152z m-87.381334 60.245333v-71.338666L553.130667 512zM823.978667 623.957333a35.157333 35.157333 0 0 1-35.157334-35.157333 17.066667 17.066667 0 0 0-34.133333 0v151.210667a83.968 83.968 0 0 0-51.2-17.066667 85.333333 85.333333 0 1 0 85.333333 85.333333V648.533333a68.266667 68.266667 0 0 0 35.157334 9.898667 34.986667 34.986667 0 0 1 34.133333 34.133333 17.066667 17.066667 0 0 0 34.133333 0 69.290667 69.290667 0 0 0-68.266666-68.608z m-120.490667 235.008a51.2 51.2 0 1 1 51.2-51.2 51.2 51.2 0 0 1-51.2 51.2z" fill="#3D3D63" p-id="23738"></path></svg>
    <!-- <button data-popover-target="popover-bottom" data-popover-placement="bottom" type="button" class="text-white mb-3 me-4 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Bottom popover</button> -->
</a>
<div data-popover id="popoverContent" role="tooltip" class="absolute z-10 invisible inline-block w-96 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-0 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800">
    <div class="px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700">
        <h4 class="font-semibold text-gray-900 dark:text-white">🎶🎸</h4>
    </div>
    <div class="px-3 py-2">
        <div id="aplayer"></div>
        <!-- <p>And here's some amazing content. It's very engaging. Right?</p> -->
    </div>
    <div data-popper-arrow></div>
</div>


<script>
    import 'APlayer/dist/APlayer.min.css';
    import APlayer from 'APlayer';

    document.addEventListener('astro:page-load', () => {
        console.log('APlayer');
        // 加载音乐盒
        const ap= new APlayer({
                container: document.getElementById('aplayer'),
                // fixed: true,
                // mini:true,
                audio: [
                        {
                            "name": "光年之外",
                            "artist": "G.E.M.邓紫棋",
                            "url": "//file.mo7.cc/music/光年之外-G.E.M.邓紫棋/audio.mp3",
                            "cover": "//file.mo7.cc/music/光年之外-G.E.M.邓紫棋/cover.webp",
                            "lrc": "//file.mo7.cc/music/光年之外-G.E.M.邓紫棋/lyrics.lrc"
                        },
                        {
                            "name": "泡沫",
                            "artist": "G.E.M.邓紫棋",
                            "url": "//file.mo7.cc/music/泡沫-G.E.M.邓紫棋/audio.mp3",
                            "cover": "//file.mo7.cc/music/泡沫-G.E.M.邓紫棋/cover.webp",
                            "lrc": "//file.mo7.cc/music/泡沫-G.E.M.邓紫棋/lyrics.lrc"
                        },
                        {
                            "name": "喜欢你",
                            "artist": "G.E.M.邓紫棋",
                            "url": "//file.mo7.cc/music/喜欢你-G.E.M.邓紫棋/audio.mp3",
                            "cover": "//file.mo7.cc/music/喜欢你-G.E.M.邓紫棋/cover.webp",
                            "lrc": "//file.mo7.cc/music/喜欢你-G.E.M.邓紫棋/lyrics.lrc"
                        }
                    ]
            });

    });
</script>